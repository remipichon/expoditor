<head>
    <title>learning_editor</title>
    
</head>

<body>
    {{loginButtons}}
    {{> buttons}}
    <div id="editor-container">
        {{> editorContainer}}
    </div>
    
    <div id="jmpress-container">
        {{> jmpressContainer}}
    </div>
    
    <div class="deck-container">
        {{> deckContainer}}
    </div>
    
    

</body>

<template name="buttons">
    <div id="buttons">
        <p>
            {{> createSlideshow}}
            {{> updateSlideshow}}
            {{> deleteSlideshow}}
            {{> loadSlideshow}}
        </p>    
        <p>
            {{> createSlide}}
            {{> loadEditor}}
            {{> loadDeck}}
            {{> loadJmpress}}
        </p>
    </div>
</template>
<template name="createSlide"><input id="createSlide" class="button" type="button" value="createSlide"/></template>
<template name="loadEditor"><input id="loadEditor" class="button" type="button" value="loadEditor" /></template>
<template name="loadJmpress"><input id="loadJmpress" class="button" type="button" value="loadJmpress"/></template>
<template name="loadDeck"><input id="loadDeck" class="button" type="button" value="loadDeck"/></template>

<template name="createSlideshow"><input id="createSlideshow" class="button" type="button" value="createSlideshow"/></template>
<template name="updateSlideshow"><input id="updateSlideshow" class="button" type="button" value="updateSlideshow"/></template>
<template name="deleteSlideshow"><input id="deleteSlideshow" class="button" type="button" value="deleteSlideshow"/></template>
<template name="loadSlideshow"><input id="loadSlideshow" class="button" type="button" value="loadSlideshow"/></template>



<template name="editorContainer">  
    {{!#each slideshow}}
    {{#each slides}}
         {{> editorSlide}}
    {{/each}}
    {{!/each}}
</template>

<template name="jmpressContainer">  
    {{!#each slideshow}}
    {{#each slides}}
         {{> jmpressSlide}}
    {{/each}}
    {{!/each}}
</template>

<template name="deckContainer">   
    {{!#each slideshow}}
    {{#each slides}}
         {{> deckSlide}}
    {{/each}}
    {{!/each}}
</template>

<template name="editorSlide">

    <div id="{{_id}}" class="slide {{isActive}}" style="top:{{getEditorData "y"}}px; left:{{getEditorData "x"}}px"> 
         {{> deleteSlide }}
         {{> addElement }}
         <p class='title'> {{informations.title}} </p>
         
      {{> elementsArea}}
        
    </div>  
    
</template> 

<template name="jmpressSlide">

    <div id="{{_id}}" class="step slide" 
         {{getJmpressData "x"}} {{getPresentationData "y"}} {{getPresentationData "z"}}>
        
         <p class='title'> {{informations.title}} </p>
         
      {{> elementsArea}}
        
    </div>  
    
</template> 

<template name="deckSlide">

    <section id="{{_id}}" class="slide">        
         <h1> {{informations.title}} </h1>         
         {{> elementsArea}}
    </section>  
    
</template> 

<template name="elementsArea">
   {{#each elements}}
        {{#constant}}
        {{!#labelBranch _id}}
            {{> element}}
        {{!/labelBranch}}
        {{/constant}}
    {{/each}}
</template>


<template name="element">
    <span class="element">
        <p id="{{_id}}" class="{{type}}">{{content}}</p>
       {{>deleteElement}}
    </span>
</template>


<template name="deleteSlide"><span class="delete"> X </span></template>
<template name="addElement"><span class="addElement"> add </span></template>
<template name="deleteElement">
     <p class="deleteElement"> X </p>
</template>