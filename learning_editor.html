<head>
    <title>learning_editor</title>
    
</head>

<body>
    {{loginButtons}}
    {{> buttons}}
    <div id="slideArea">
        {{> slideArea}}
    </div>
    
    <div class="deck-container">
        {{> deckContainer}}
    </div>
    
    

</body>

<template name="buttons">
    <p>
        {{> createSlideshow}}
        {{> updateSlideshow}}
        {{> deleteSlideshow}}
        {{> loadSlideshow}}
    </p>    
    <p>
        {{> createSlide}}
        {{> loadEditor}}
        {{> loadDeck}}
        {{> loadJmpress}}
    </p>
</template>
<template name="createSlide"><input id="createSlide" class="button" type="button" value="createSlide"/></template>
<template name="loadEditor"><input id="loadEditor" class="button" type="button" value="loadEditor" /></template>
<template name="loadJmpress"><input id="loadJmpress" class="button" type="button" value="loadJmpress"/></template>
<template name="loadDeck"><input id="loadDeck" class="button" type="button" value="loadDeck"/></template>

<template name="createSlideshow"><input id="createSlideshow" class="button" type="button" value="createSlideshow"/></template>
<template name="updateSlideshow"><input id="updateSlideshow" class="button" type="button" value="updateSlideshow"/></template>
<template name="deleteSlideshow"><input id="deleteSlideshow" class="button" type="button" value="deleteSlideshow"/></template>
<template name="loadSlideshow"><input id="loadSlideshow" class="button" type="button" value="loadSlideshow"/></template>



<template name="slideArea">
    
    
    {{!#each slideshow}}
    {{#each slides}}
         {{> slide}}
    {{/each}}
    {{!/each}}


</template>

<template name="deckContainer">
    
    
    {{!#each slideshow}}
    {{#each slides}}
         {{> deckSlide}}
    {{/each}}
    {{!/each}}


</template>

<template name="slide">

    <div id="{{_id}}" class="step slide" style="top:{{getEditorData "y"}}px; left:{{getEditorData "x"}}px" 
         {{getPresentationData "x" "jmpress"}} {{getPresentationData "y" "jmpress"}} {{getPresentationData "z" "jmpress"}}>
         {{> deleteSlide }}
         {{> addElement }}
         <p class='title'> {{informations.title}} </p>
         
      {{> elementsArea}}
        
    </div>  
    
</template> 

<template name="deckSlide">

    <section id="{{_id}}" class="slide">
        
         <h1> {{informations.title}} </h1>
         
      {{> elementsArea}}
        
    </section>  
    
</template> 

<template name="elementsArea">
   {{#each elements}}
        {{#constant}}
        {{!#labelBranch _id}}
            {{> element}}
        {{!/labelBranch}}
        {{/constant}}
    {{/each}}
</template>


<template name="element">
    <span class="element">
        <p id="{{_id}}" class="{{type}}">{{content}}</p>
       {{>deleteElement}}
    </span>
</template>


<template name="deleteSlide"><span class="delete"> X </span></template>
<template name="addElement"><span class="addElement"> add </span></template>
<template name="deleteElement">
     <p class="deleteElement"> X </p>
</template>