<head>
    <title>learning_editor</title>
     <script src='http://192.168.1.2:2438/closure-library/closure/goog/base.js'></script> 
    

     


  <script>   

    //dragger
    goog.require('goog.fx.Dragger');
    goog.require('goog.dom');
    goog.require('goog.style');


    //add goog.dom.query (jQuery like)
    s = document.createElement('script');
    s.type = 'text/javascript';
    s.src = 'http://192.168.1.2:2438/query.js';
    $('head').append(s);

    //editor  
    goog.require('goog.dom');
    goog.require('goog.editor.Command');
    goog.require('goog.editor.Field');
    goog.require('goog.editor.plugins.BasicTextFormatter');
    goog.require('goog.editor.plugins.EnterHandler');
    goog.require('goog.editor.plugins.HeaderFormatter');
    goog.require('goog.editor.plugins.LinkBubble');
    goog.require('goog.editor.plugins.LinkDialogPlugin');
    goog.require('goog.editor.plugins.ListTabHandler');
    goog.require('goog.editor.plugins.LoremIpsum');
    goog.require('goog.editor.plugins.RemoveFormatting');
    goog.require('goog.editor.plugins.SpacesTabHandler');
    goog.require('goog.editor.plugins.UndoRedo');
    goog.require('goog.ui.editor.DefaultToolbar');
    goog.require('goog.ui.editor.ToolbarController');
  </script>

   <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/common.css'>
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/button.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/dialog.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/linkbutton.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/menu.css'>
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/menuitem.css'>
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/menuseparator.css'>
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/tab.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/tabbar.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/toolbar.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/colormenubutton.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/palette.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/colorpalette.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/editor/bubble.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/editor/dialog.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/editor/linkdialog.css' />
  <link rel='stylesheet' href='http://192.168.1.2:2438/closure-library/closure/goog/css/editortoolbar.css' />


    
</head>

<body>
    {{loginButtons}}
    {{> toolbar}}
    {{> buttons}}
    <div id='editor-container'>
        {{> editorContainer}}
    </div>
    
    <div id='jmpress-container'>
        {{> jmpressContainer}}
    </div>
    
    <div class='deck-container'>
        {{> deckContainer}}
    </div>
    
    {{> modalCurrentEditing}}
    {{> modalTemplate}}
    
      

</body>

<template name='toolbar'>
    <div id='toolbar'></div>
</template>  

<template name='buttons'>
    <div id='buttons'>
        <!-- <p> -->
            {{> createSlideshow}}
            {{> updateSlideshow}}
            {{> deleteSlideshow}}
            {{> loadSlideshow}}
        <!-- </p>     -->
        <!-- <p> -->
            {{> createSlide}}
            {{> loadEditor}}
            {{> loadDeck}}
            {{> loadJmpress}}
        <!-- </p> -->
    </div>
</template>
<template name='createSlide'><input id='createSlide' class='button' type='button' value='createSlide'/></template>
<template name='loadEditor'><input id='loadEditor' class='button' type='button' value='loadEditor' /></template>
<template name='loadJmpress'><input id='loadJmpress' class='button' type='button' value='loadJmpress'/></template>
<template name='loadDeck'><input id='loadDeck' class='button' type='button' value='loadDeck'/></template>

<template name='createSlideshow'><input id='createSlideshow' class='button' type='button' value='createSlideshow'/></template>
<template name='updateSlideshow'><input id='updateSlideshow' class='button' type='button' value='updateSlideshow'/></template>
<template name='deleteSlideshow'><input id='deleteSlideshow' class='button' type='button' value='deleteSlideshow'/></template>
<template name='loadSlideshow'><input id='loadSlideshow' class='button' type='button' value='loadSlideshow'/></template>



<template name='editorContainer'>  
    {{!#each slideshow}}
    {{#each slides}}
         {{> editorSlide}}
    {{/each}}
    {{!/each}}
</template>

<template name='jmpressContainer'>  
    {{!#each slideshow}}
    {{#each slides}}
         {{> jmpressSlide}}
    {{/each}}
    {{!/each}}
</template>

<template name='deckContainer'>   
    {{!#each slideshow}}
    {{#each slides}}
         {{> deckSlide}}
    {{/each}}
    {{!/each}}
</template>

<template name='editorSlide'>

    <div id='{{_id}}' class='slide {{isActive}}' style='top:{{getEditorData 'y'}}px; left:{{getEditorData 'x'}}px'> 
         {{> deleteSlide }}
         {{> createElementTexte }}
         {{> editSlideContent}}
         <p class='title'> {{informations.title}} </p>
    
      {{> elementsArea}}
    </div>  
    
</template> 

<template name='editorSlideCurrentEditing'>

    <div id='{{_id}}'> 
         {{> createElementTexte }}
         <p class='title'> {{informations.title}} </p>
    
      {{> elementsAreaCurrentEditing}}
    </div>  
    
</template> 

<template name='jmpressSlide'>

    <div id='{{_id}}' class='step slide' 
         {{getJmpressData 'x'}} {{getJmpressData 'y'}} {{getJmpressData 'z'}}>        
         <p class='title'> {{informations.title}} </p>         
      {{> elementsArea}}        
    </div>    

</template> 

<template name='deckSlide'>

    <section id='{{_id}}' class='slide'>        
         <h1> {{informations.title}} </h1>         
         {{> elementsArea}}
    </section>  
    
</template> 

<template name='elementsArea'>

    <div class='elementsArea'>        
        {{#each elements}}              
          {{> element}}
        {{/each}}         
    </div>
   
</template>

<template name='elementsAreaCurrentEditing'>

    <div class='elementsAreaCurrentEditing'>        
        {{#each elements}}              
          {{> elementCurrentEditing}}
        {{/each}}         
    </div>
   
</template>


<template name='element'>

    <div id='{{_id}}-wrapper' class='wrapper-element element' style='top:{{getEditorData 'y'}}px; left:{{getEditorData 'x'}}px' >
        <div id='{{_id}}' class='editor {{type}}'>
            {{{content}}}
        </div>       
    </div>

</template> 

<template name='elementCurrentEditing'>

    <div id='{{_id}}-currentEditing-wrapper' class='wrapper-element-currentEditing element' style='top:{{getEditorData 'y'}}px; left:{{getEditorData 'x'}}px' >
      {{>deleteElement}}
        <div id='{{_id}}-currentEditing' class='editor {{type}}'>
            {{{content}}}
        </div>       
    </div>

</template> 

<template name='quitEdit'><input type='button' class='buttonQuitEdit' value='qui edit'></template>
<template name='deleteSlide'><input type='button' class='deleteSlide' value='X'></template>
<template name='createElementTexte'><input type='button' class='addElement' value='+'></template>
<template name='deleteElement'><input type='button' class='deleteElement' value='X'></template>
<template name='editSlideContent'><input type='button' class='editSlideContent' value='edit'></template>




<template name='modalCurrentEditing'>
    {{#if isVisible}}
        <div id='modalCurrentEditing'>
          {{#each editorSlideCurrentEditing}}
          {{> editorSlideCurrentEditing}}
          {{/each}}
        </div>
   {{/if}}
</template>


<template name='modalTemplate'>
    {{#if isVisible}}
        <div id='modalSelectSlideshow'>

            <div>
                <p> Choose a slideshow to load </p>
                
                {{data}}
                {{>listSlideshow}}
                
                
            </div>

           {{>cancel}}
           {{>validate}}
        </div>
   {{/if}}
</template>

<template name='cancel'>
   <input class='cancel button' type='button' value='cancel'/> 
</template>

<template name='validate'>
   <input class='validate button' type='button' value='validate'/> 
</template>

<template name='listSlideshow'>
    {{#each slideshowList}}
            <input type='button' value='{{this}}'/>
    {{/each}}
</template>